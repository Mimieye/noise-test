!function(e){function t(t){for(var r,d,a=t[0],l=t[1],s=t[2],h=0,g=[];h<a.length;h++)d=a[h],i[d]&&g.push(i[d][0]),i[d]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);g.length;)g.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=d(d.s=n[0]))}return e}var r={},i={0:0},o=[];function d(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=r,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)d.d(n,r,function(t){return e[t]}.bind(null,r));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=l;o.push([5,1]),n()}({1:function(e,t,n){},5:function(e,t,n){"use strict";n.r(t);n(1);const r=n(0),i=(e,t)=>r.ShaderChunk[t]+"\n",o=e=>e.replace(/\/\/\s?chunk\(\s?(\w+)\s?\);/g,i),d=(e,t)=>e+Math.random()*(t-e),a={x:0,y:100,z:100},l=.8,s={r:1,g:1,b:1},u=.5,h={r:1,g:1,b:1},g=n(0),f=new(n(2).GUI),c=n(3),p=n(4),w=document.getElementById("canvas");let m,y,b,v,O,S=0,L=new p(1337),M={amount:5e3,size:8,gridWidth:100,gridHeight:100,gridLength:100,numOnWidth:40,numOnHeight:40,numOnLength:40,unitWitdh:1,unitHeight:1,unitLength:1,pointSize:1,noiseScale:50,noiseOffsetX:0,noiseOffsetY:0,noiseOffsetZ:0,increment:1.5,frequency:0,colorR:d(0,255),colorG:d(0,255),colorB:d(0,255)},P=()=>{y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),b.setSize(window.innerWidth,window.innerHeight)},x=()=>{requestAnimationFrame(x),H()},H=()=>{y.lookAt(m.position),v.update();let e=O.geometry.attributes.position.array,t=O.geometry.attributes.color.array,n=O.geometry.attributes.size.array,{numOnWidth:r,numOnHeight:i,numOnLength:o,unitWitdh:d,unitHeight:a,unitLength:l,noiseScale:s,noiseOffsetX:u,noiseOffsetY:h,noiseOffsetZ:f,increment:c,frequency:p,pointSize:w,colorR:P,colorG:x,colorB:H}=M;for(let e=0;e<n.length;e++)n[e]=0;for(let t=0;t<e.length;t++)e[t]=0;let z=0;for(let m=0;m<r;m++){let r=0;for(let p=0;p<i;p++){let y=0;for(let b=0;b<o;b++){let v=L.noise4D((z+u)/s,(r+h)/s,(y+f)/s,S),O=b+(p+m*i)*o,M=3*O,W=new g.Vector3(Math.cos(2*v*Math.PI),Math.sin(2*v*Math.PI),Math.cos(2*v*Math.PI)),A=W.normalize().x,B=W.normalize().y,F=W.normalize().z;e[M+0]=m*d+A,e[M+1]=p*a+B,e[M+2]=b*l+F,t[M+0]=P/255*(A+1),t[M+1]=x/255*(B+1),t[M+2]=H/255*(F+1),n[O]=w,y+=c}r+=c}z+=c,S+=p/1e6}O.geometry.attributes.position.needsUpdate=!0,O.geometry.attributes.color.needsUpdate=!0,O.geometry.attributes.size.needsUpdate=!0,b.render(m,y)};(()=>{m=new g.Scene,(y=new g.PerspectiveCamera(55,window.innerWidth/window.innerHeight,.1,1e4)).position.set(184*.4,51.2,64.8),(b=new g.WebGLRenderer({canvas:w,antialias:!0})).setClearColor(3355443),b.setPixelRatio(window.devicePixelRatio),b.setSize(window.innerWidth,window.innerHeight),b.shadowMap.enabled=!0,b.shadowMap.type=g.PCFSoftShadowMap;const e=new g.AxesHelper(500),t=new g.GridHelper(5e3,100,16777215);v=new c(y,b.domElement),m.add(e),m.add(t),(()=>{let e=f.addFolder("Grid"),t=f.addFolder("Noise"),n=f.addFolder("Color");e.add(M,"numOnWidth",1,M.gridWidth,1),e.add(M,"numOnHeight",1,M.gridHeight,1),e.add(M,"numOnLength",1,M.gridLength,1),e.add(M,"unitWitdh",1,M.gridLength,1),e.add(M,"unitHeight",1,M.gridLength,1),e.add(M,"unitLength",1,M.gridLength,1),e.add(M,"pointSize",0,5),t.add(M,"noiseScale",1,500),t.add(M,"noiseOffsetX",0,500),t.add(M,"noiseOffsetY",0,500),t.add(M,"noiseOffsetZ",0,500),t.add(M,"increment",1,10),t.add(M,"frequency",0,1e4,1),n.add(M,"colorR",0,255,1),n.add(M,"colorG",0,255,1),n.add(M,"colorB",0,255,1),e.open(),t.open(),n.open()})();let n=new g.ShaderMaterial({uniforms:g.UniformsUtils.merge([g.UniformsLib.shadowmap,g.UniformsLib.lights,{lightPosition:{type:"v3",value:new g.Vector3(a.x,a.y,a.z)},lightColor:{type:"v3",value:new g.Vector3(s.r,s.g,s.b)},lightStrength:{type:"f",value:l},ambientLight_strength:{type:"f",value:u},ambientLight_color:{type:"v3",value:new g.Vector3(h.r,h.g,h.b)}}]),vertexShader:o(document.getElementById("vertexShader").textContent),fragmentShader:o(document.getElementById("fragmentShader").textContent),lights:!0,blending:g.NoBlending}),r=new Float32Array(M.gridWidth*M.gridHeight*M.gridLength*3),i=new Float32Array(M.gridWidth*M.gridHeight*M.gridLength*3),d=new Float32Array(M.gridWidth*M.gridHeight*M.gridLength),p=new g.BufferGeometry;p.addAttribute("position",new g.Float32BufferAttribute(r,3)),p.addAttribute("color",new g.Float32BufferAttribute(i,3)),p.addAttribute("size",new g.Float32BufferAttribute(d,1)),O=new g.Points(p,n),m.add(O);let S=new g.PlaneBufferGeometry(5e3,5e3,32,32),L=new g.MeshPhongMaterial,x=new g.Mesh(S,L);x.rotation.x=Math.PI/180*-90,x.receiveShadow=!0,x.position.y=-200;let H=new g.AmbientLight(new g.Color(h.r,h.g,h.b),u);m.add(H),window.addEventListener("resize",P,!1)})(),x()}});
//# sourceMappingURL=app.bundle.js.map